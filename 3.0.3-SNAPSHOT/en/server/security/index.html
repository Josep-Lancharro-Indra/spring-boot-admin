<!DOCTYPE html>
<html class="initial astro-OUAMJN2I">
	<head>
		<meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Astro v2.2.0">

<link rel="icon" type="image/svg+xml" href="/spring-boot-admin/3.0.3-SNAPSHOT//favicon.svg">

<link rel="sitemap" href="/spring-boot-admin/3.0.3-SNAPSHOT//sitemap.xml">

<link rel="stylesheet" href="/spring-boot-admin/3.0.3-SNAPSHOT//highlight.css">
<script src="/spring-boot-admin/3.0.3-SNAPSHOT//highlight.js"></script>

<!-- Preload Fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:ital@0;1&display=swap" rel="stylesheet">

<!-- Scrollable a11y code helper -->
<script src="/spring-boot-admin/3.0.3-SNAPSHOT//make-scrollable-code-focusable.js"></script>

<!-- This is intentionally inlined to avoid FOUC -->
<script>
	const root = document.documentElement;
	const theme = localStorage.getItem('theme');
	if (theme === 'dark' || (!theme && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
		root.classList.add('theme-dark');
	} else {
		root.classList.remove('theme-dark');
	}
</script>
		<!-- Page Metadata --><link rel="canonical" href="https://codecentric.github.io/spring-boot-admin/3.0.3-SNAPSHOT/en/server/security/">

<!-- OpenGraph Tags -->
<meta property="og:title" content="Security ðŸš€ Spring Boot Admin">
<meta property="og:type" content="article">
<meta property="og:url" content="https://codecentric.github.io/spring-boot-admin/3.0.3-SNAPSHOT/en/server/security/">
<meta property="og:locale" content="en-us">
<meta property="og:image" content="https://github.com/withastro/astro/blob/main/.github/assets/banner.png?raw=true">
<meta property="og:image:alt" content="astro logo on a starry expanse of space, with a purple saturn-like planet floating in the right foreground">
<meta name="description" property="og:description" content="Your website description.">
<meta property="og:site_name" content="Spring Boot Admin">

<!-- Twitter Tags -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="astrodotbuild">
<meta name="twitter:title" content="Security ðŸš€ Spring Boot Admin">
<meta name="twitter:description" content="Your website description.">
<meta name="twitter:image" content="https://github.com/withastro/astro/blob/main/.github/assets/banner.png?raw=true">
<meta name="twitter:image:alt" content="astro logo on a starry expanse of space, with a purple saturn-like planet floating in the right foreground">

<!--
  TODO: Add json+ld data, maybe https://schema.org/APIReference makes sense?
  Docs: https://developers.google.com/search/docs/advanced/structured-data/intro-structured-data
  https://www.npmjs.com/package/schema-dts seems like a great resource for implementing this.
  Even better, there's a React component that integrates with `schema-dts`: https://github.com/google/react-schemaorg
-->
		<title>
			Security ðŸš€ Spring Boot Admin
		</title>
		

		
	<link rel="stylesheet" href="/spring-boot-admin/3.0.3-SNAPSHOT/_astro/_...slug_.bc2a05cf.css" /></head>

	<body class="astro-OUAMJN2I">
		<header class="astro-2W66RQV5">
  <a href="#article" class="sr-only focus:not-sr-only skiplink astro-DMGOOZ7Y"><span class="astro-DMGOOZ7Y">Skip to Content</span></a>
  <nav class="nav-wrapper astro-2W66RQV5" title="Top Navigation">
    <div class="menu-toggle astro-2W66RQV5">
      <style>astro-island,astro-slot{display:contents}</style><script>(self.Astro=self.Astro||{}).idle=t=>{const e=async()=>{await(await t())()};"requestIdleCallback"in window?window.requestIdleCallback(e):setTimeout(e,200)},window.dispatchEvent(new Event("astro:idle"));var l;{const c={0:t=>t,1:t=>JSON.parse(t,o),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(JSON.parse(t,o)),5:t=>new Set(JSON.parse(t,o)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(JSON.parse(t)),9:t=>new Uint16Array(JSON.parse(t)),10:t=>new Uint32Array(JSON.parse(t))},o=(t,s)=>{if(t===""||!Array.isArray(s))return s;const[e,n]=s;return e in c?c[e](n):void 0};customElements.get("astro-island")||customElements.define("astro-island",(l=class extends HTMLElement{constructor(){super(...arguments);this.hydrate=()=>{if(!this.hydrator||this.parentElement&&this.parentElement.closest("astro-island[ssr]"))return;const s=this.querySelectorAll("astro-slot"),e={},n=this.querySelectorAll("template[data-astro-template]");for(const r of n){const i=r.closest(this.tagName);!i||!i.isSameNode(this)||(e[r.getAttribute("data-astro-template")||"default"]=r.innerHTML,r.remove())}for(const r of s){const i=r.closest(this.tagName);!i||!i.isSameNode(this)||(e[r.getAttribute("name")||"default"]=r.innerHTML)}const a=this.hasAttribute("props")?JSON.parse(this.getAttribute("props"),o):{};this.hydrator(this)(this.Component,a,e,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),window.removeEventListener("astro:hydrate",this.hydrate),window.dispatchEvent(new CustomEvent("astro:hydrate"))}}connectedCallback(){!this.hasAttribute("await-children")||this.firstChild?this.childrenConnectedCallback():new MutationObserver((s,e)=>{e.disconnect(),this.childrenConnectedCallback()}).observe(this,{childList:!0})}async childrenConnectedCallback(){window.addEventListener("astro:hydrate",this.hydrate);let s=this.getAttribute("before-hydration-url");s&&await import(s),this.start()}start(){const s=JSON.parse(this.getAttribute("opts")),e=this.getAttribute("client");if(Astro[e]===void 0){window.addEventListener(`astro:${e}`,()=>this.start(),{once:!0});return}Astro[e](async()=>{const n=this.getAttribute("renderer-url"),[a,{default:r}]=await Promise.all([import(this.getAttribute("component-url")),n?import(n):()=>()=>{}]),i=this.getAttribute("component-export")||"default";if(!i.includes("."))this.Component=a[i];else{this.Component=a;for(const d of i.split("."))this.Component=this.Component[d]}return this.hydrator=r,this.hydrate},s,this)}attributeChangedCallback(){this.hydrator&&this.hydrate()}},l.observedAttributes=["props"],l))}</script><astro-island uid="ikQhu" component-url="/spring-boot-admin/3.0.3-SNAPSHOT/_astro/SidebarToggle.90a3e4e8.js" component-export="default" renderer-url="/spring-boot-admin/3.0.3-SNAPSHOT/_astro/client.2faf7c14.js" props="{&quot;class&quot;:[0,&quot;astro-2W66RQV5&quot;]}" ssr="" client="idle" opts="{&quot;name&quot;:&quot;SidebarToggle&quot;,&quot;value&quot;:true}" await-children=""><button type="button" aria-pressed="false" id="menu-toggle"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg><span class="sr-only">Toggle sidebar</span></button></astro-island>
    </div>
    <div class="logo flex astro-2W66RQV5">
      <a href="/spring-boot-admin/3.0.3-SNAPSHOT/" class="astro-2W66RQV5">
        <svg viewBox="0 0 135.297 120.36666" xmlns="http://www.w3.org/2000/svg" class="logo" width="40" height="40">
  <defs>
    <style>
        .hex {
            fill: #42d3a5;
        }

        .line {
            fill: #fff;
        }
    </style>
  </defs>
  <path d="M133.605291 66.312792l-27.6913077 47.9628009c-2.1826121 3.7799055-6.2171779 6.1091806-10.5824021 6.1091806H39.9489658c-4.3652242 0-8.3984567-2.3292751-10.5824021-6.1091806L1.6765893 66.312792c-2.1826121-3.7799055-2.1826121-8.4384557 0-12.2196945L29.3665637 6.1316299C31.5505091 2.3503911 35.5837416.021116 39.9489658.021116h55.3826154c4.3652242 0 8.39979 2.3292751 10.5824021 6.1105139l27.6913077 47.9614676c2.1826121 3.7812388 2.1826121 8.439789 0 12.2196945" class="hex"></path>
  <path d="M61.53275952 19.96761733c-1.41466463.03066923-2.66193345.92969675-3.14052148 2.26164345l-17.8355541 49.69575758-5.85535361-9.759556c-.6159846-1.02927427-1.72965676-1.6601585-2.92962676-1.6601585H.05149659c.04970976 2.00834979.5878153 4.00699982 1.62695933 5.80645483l.59373516 1.02727432h27.56531085l8.57008574 14.28264293c.62131447 1.0359741 1.73705657 1.66015849 2.9276268 1.66015849.1119972 0 .22197446-.00559986.33397166-.01757956 1.31466713-.1279968 2.43673908-1.00337492 2.88472788-2.24604385l17.25756855-48.0947976 18.95252617 46.4108397c.48531787 1.18667033 1.5956601 2.00194995 2.87292818 2.11124722 1.26926826.11332717 2.5074373-.50440739 3.1874203-1.59376016l15.14962126-24.28039297 8.8435789 11.5637109c.6479838.84530887 1.65345867 1.34176645 2.71473213 1.34176645h18.8235294l1.24996875-2.16594585c.84245894-1.45896352 1.35666609-3.0480238 1.54876128-4.6678833h-19.93350165l-10.8157296-14.14464637c-.68131296-.88930777-1.7675558-1.39116522-2.87692807-1.33786655-1.119972.05332866-2.14294643.6515037-2.7362316 1.60345991L84.56351375 70.56637232 64.76700867 22.0885843c-.5359866-1.3079673-1.82695433-2.15894603-3.2362191-2.12294693z" class="line"></path>
</svg>
        <h1 class="astro-2W66RQV5">Spring Boot Admin</h1>
      </a>
      <div class="astro-2W66RQV5">
        <small class="astro-2W66RQV5">3.0.3-SNAPSHOT</small>
      </div>
    </div>
    <div style="flex-grow: 1;" class="astro-2W66RQV5"></div>
    
    
  </nav>
</header>
		<main class="layout astro-OUAMJN2I">
			<aside id="grid-left" class="grid-sidebar astro-OUAMJN2I" title="Site Navigation">
				<nav aria-labelledby="grid-left" class="astro-KQNE5HRN">
	<ul class="nav-groups astro-KQNE5HRN">
		<li class="astro-KQNE5HRN">
					<div class="nav-group astro-KQNE5HRN">
						<h2 class="nav-group-title astro-KQNE5HRN">Start here</h2>
						<ul class="astro-KQNE5HRN">
							<li class="nav-link astro-KQNE5HRN">
										<a href="/spring-boot-admin/3.0.3-SNAPSHOT/en/getting-started" class="astro-KQNE5HRN">
											Getting Started
										</a>
									</li><li class="nav-link astro-KQNE5HRN">
										<a href="/spring-boot-admin/3.0.3-SNAPSHOT/en/snapshot-versions" class="astro-KQNE5HRN">
											Use Snapshots
										</a>
									</li>
						</ul>
					</div>
				</li><li class="astro-KQNE5HRN">
					<div class="nav-group astro-KQNE5HRN">
						<h2 class="nav-group-title astro-KQNE5HRN">SBA Server</h2>
						<ul class="astro-KQNE5HRN">
							<li class="nav-link astro-KQNE5HRN">
										<a href="/spring-boot-admin/3.0.3-SNAPSHOT/en/server/discovery" class="astro-KQNE5HRN">
											Discover
										</a>
									</li><li class="nav-link astro-KQNE5HRN">
										<a href="/spring-boot-admin/3.0.3-SNAPSHOT/en/server/notifiers" class="astro-KQNE5HRN">
											Notifiers
										</a>
									</li><li class="nav-link astro-KQNE5HRN">
										<a href="/spring-boot-admin/3.0.3-SNAPSHOT/en/server/clustering" class="astro-KQNE5HRN">
											Clustering
										</a>
									</li><li class="nav-link astro-KQNE5HRN">
										<a href="/spring-boot-admin/3.0.3-SNAPSHOT/en/server/security" class="astro-KQNE5HRN">
											Security
										</a>
									</li>
						</ul>
					</div>
				</li><li class="astro-KQNE5HRN">
					<div class="nav-group astro-KQNE5HRN">
						<h2 class="nav-group-title astro-KQNE5HRN">SBA Client</h2>
						<ul class="astro-KQNE5HRN">
							<li class="nav-link astro-KQNE5HRN">
										<a href="/spring-boot-admin/3.0.3-SNAPSHOT/en/client" class="astro-KQNE5HRN">
											Configuration
										</a>
									</li><li class="nav-link astro-KQNE5HRN">
										<a href="/spring-boot-admin/3.0.3-SNAPSHOT/en/client/customize_ui" class="astro-KQNE5HRN">
											Customize UI
										</a>
									</li><li class="nav-link astro-KQNE5HRN">
										<a href="/spring-boot-admin/3.0.3-SNAPSHOT/en/client/customize_interceptors" class="astro-KQNE5HRN">
											Custom Interceptors
										</a>
									</li><li class="nav-link astro-KQNE5HRN">
										<a href="/spring-boot-admin/3.0.3-SNAPSHOT/en/client/customize_http-headers" class="astro-KQNE5HRN">
											Custom HTTP Headers
										</a>
									</li>
						</ul>
					</div>
				</li>
	</ul>
</nav>

<script>
	window.addEventListener('DOMContentLoaded', () => {
		var target = document.querySelector('[aria-current="page"]');
		if (target && target.offsetTop > window.innerHeight - 100) {
			document.querySelector('.nav-groups').scrollTop = target.offsetTop;
		}
	});
</script>
			</aside>
			<div id="grid-main" class="astro-OUAMJN2I">
				<article id="article" class="content astro-J75B3YUS">
	<section class="main-section astro-J75B3YUS">
		<h1 class="content-title astro-J75B3YUS" id="overview">Security</h1>
		<nav class="block sm:hidden astro-J75B3YUS">
			<script>(self.Astro=self.Astro||{}).media=(s,a)=>{const t=async()=>{await(await s())()};if(a.value){const e=matchMedia(a.value);e.matches?t():e.addEventListener("change",t,{once:!0})}},window.dispatchEvent(new Event("astro:media"));</script><astro-island uid="Z1YoOWP" component-url="/spring-boot-admin/3.0.3-SNAPSHOT/_astro/TableOfContents.dbb9d265.js" component-export="default" renderer-url="/spring-boot-admin/3.0.3-SNAPSHOT/_astro/client.2faf7c14.js" props="{&quot;headings&quot;:[1,&quot;[[0,{\&quot;depth\&quot;:[0,\&quot;2\&quot;],\&quot;slug\&quot;:[0,\&quot;_securing_spring_boot_admin_server\&quot;],\&quot;text\&quot;:[0,\&quot;Securing Spring Boot Admin Server\&quot;]}],[0,{\&quot;depth\&quot;:[0,\&quot;3\&quot;],\&quot;slug\&quot;:[0,\&quot;_securing_client_actuator_endpoints\&quot;],\&quot;text\&quot;:[0,\&quot;Securing Client Actuator Endpoints\&quot;]}],[0,{\&quot;depth\&quot;:[0,\&quot;3\&quot;],\&quot;slug\&quot;:[0,\&quot;_sba_client\&quot;],\&quot;text\&quot;:[0,\&quot;SBA Client\&quot;]}],[0,{\&quot;depth\&quot;:[0,\&quot;3\&quot;],\&quot;slug\&quot;:[0,\&quot;_sba_server\&quot;],\&quot;text\&quot;:[0,\&quot;SBA Server\&quot;]}],[0,{\&quot;depth\&quot;:[0,\&quot;3\&quot;],\&quot;slug\&quot;:[0,\&quot;_eureka\&quot;],\&quot;text\&quot;:[0,\&quot;Eureka\&quot;]}],[0,{\&quot;depth\&quot;:[0,\&quot;3\&quot;],\&quot;slug\&quot;:[0,\&quot;_consul\&quot;],\&quot;text\&quot;:[0,\&quot;Consul\&quot;]}],[0,{\&quot;depth\&quot;:[0,\&quot;3\&quot;],\&quot;slug\&quot;:[0,\&quot;_csrf_on_actuator_endpoints\&quot;],\&quot;text\&quot;:[0,\&quot;CSRF on Actuator Endpoints\&quot;]}],[0,{\&quot;depth\&quot;:[0,\&quot;2\&quot;],\&quot;slug\&quot;:[0,\&quot;_using_mutual_tls\&quot;],\&quot;text\&quot;:[0,\&quot;Using Mutual TLS\&quot;]}]]&quot;],&quot;class&quot;:[0,&quot;astro-J75B3YUS&quot;]}" ssr="" client="media" opts="{&quot;name&quot;:&quot;TableOfContents&quot;,&quot;value&quot;:&quot;(max-width: 50em)&quot;}" await-children=""><h2 id="on-this-page-heading" class="heading">On this page</h2><ul><li class="header-link depth-2"><a href="#_securing_spring_boot_admin_server">Securing Spring Boot Admin Server</a></li><li class="header-link depth-3"><a href="#_securing_client_actuator_endpoints">Securing Client Actuator Endpoints</a></li><li class="header-link depth-3"><a href="#_sba_client">SBA Client</a></li><li class="header-link depth-3"><a href="#_sba_server">SBA Server</a></li><li class="header-link depth-3"><a href="#_eureka">Eureka</a></li><li class="header-link depth-3"><a href="#_consul">Consul</a></li><li class="header-link depth-3"><a href="#_csrf_on_actuator_endpoints">CSRF on Actuator Endpoints</a></li><li class="header-link depth-2"><a href="#_using_mutual_tls">Using Mutual TLS</a></li></ul></astro-island>
		</nav>
		<div class="sect1">
<h2 id="_securing_spring_boot_admin_server">Securing Spring Boot Admin Server</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Since there are several approaches on solving authentication and authorization in distributed web applications Spring Boot Admin doesn&#8217;t ship a default one.
By default <code>spring-boot-admin-server-ui</code> provides a login page and a logout button.</p>
</div>
<div class="paragraph">
<p>A Spring Security configuration for your server could look like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">@Configuration(proxyBeanMethods = false)
public class SecuritySecureConfig {

	private final AdminServerProperties adminServer;

	private final SecurityProperties security;

	public SecuritySecureConfig(AdminServerProperties adminServer, SecurityProperties security) {
		this.adminServer = adminServer;
		this.security = security;
	}

	@Bean
	protected SecurityFilterChain filterChain(HttpSecurity http) throws Exception {
		SavedRequestAwareAuthenticationSuccessHandler successHandler = new SavedRequestAwareAuthenticationSuccessHandler();
		successHandler.setTargetUrlParameter("redirectTo");
		successHandler.setDefaultTargetUrl(this.adminServer.path("/"));

		http.authorizeHttpRequests((authorizeRequests) -&gt; authorizeRequests //
			.requestMatchers(new AntPathRequestMatcher(this.adminServer.path("/assets/**")))
			.permitAll() // <b class="conum">(1)</b>
			.requestMatchers(new AntPathRequestMatcher(this.adminServer.path("/actuator/info")))
			.permitAll()
			.requestMatchers(new AntPathRequestMatcher(adminServer.path("/actuator/health")))
			.permitAll()
			.requestMatchers(new AntPathRequestMatcher(this.adminServer.path("/login")))
			.permitAll()
			.dispatcherTypeMatchers(DispatcherType.ASYNC)
			.permitAll() // https://github.com/spring-projects/spring-security/issues/11027
			.anyRequest()
			.authenticated()) // <b class="conum">(2)</b>
			.formLogin(
					(formLogin) -&gt; formLogin.loginPage(this.adminServer.path("/login")).successHandler(successHandler)) // <b class="conum">(3)</b>
			.logout((logout) -&gt; logout.logoutUrl(this.adminServer.path("/logout")))
			.httpBasic(Customizer.withDefaults()); // <b class="conum">(4)</b>

		http.addFilterAfter(new CustomCsrfFilter(), BasicAuthenticationFilter.class) // <b class="conum">(5)</b>
			.csrf((csrf) -&gt; csrf.csrfTokenRepository(CookieCsrfTokenRepository.withHttpOnlyFalse())
				.csrfTokenRequestHandler(new CsrfTokenRequestAttributeHandler())
				.ignoringRequestMatchers(
						new AntPathRequestMatcher(this.adminServer.path("/instances"), POST.toString()), // <b class="conum">(6)</b>
						new AntPathRequestMatcher(this.adminServer.path("/instances/*"), DELETE.toString()), // <b class="conum">(6)</b>
						new AntPathRequestMatcher(this.adminServer.path("/actuator/**")) // <b class="conum">(7)</b>
				));

		http.rememberMe((rememberMe) -&gt; rememberMe.key(UUID.randomUUID().toString()).tokenValiditySeconds(1209600));

		return http.build();

	}

	// Required to provide UserDetailsService for "remember functionality"
	@Bean
	public InMemoryUserDetailsManager userDetailsService(PasswordEncoder passwordEncoder) {
		UserDetails user = User.withUsername("user").password(passwordEncoder.encode("password")).roles("USER").build();
		return new InMemoryUserDetailsManager(user);
	}

	@Bean
	public PasswordEncoder passwordEncoder() {
		return new BCryptPasswordEncoder();
	}

}</code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>Grants public access to all static assets and the login page.</p>
</li>
<li>
<p>Every other request must be authenticated.</p>
</li>
<li>
<p>Configures login and logout.</p>
</li>
<li>
<p>Enables HTTP-Basic support. This is needed for the Spring Boot Admin Client to register.</p>
</li>
<li>
<p>Enables CSRF-Protection using Cookies</p>
</li>
<li>
<p>Disables CSRF-Protection for the endpoint the Spring Boot Admin Client uses to (de-)register.</p>
</li>
<li>
<p>Disables CSRF-Protection for the actuator endpoints.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>In case you use the Spring Boot Admin Client, it needs the credentials for accessing the server:</p>
</div>
<div class="listingblock">
<div class="title">application.yml</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">spring.boot.admin.client:
   username: sba-client
   password: s3cret</code></pre>
</div>
</div>
<div class="paragraph">
<p>For a complete sample look at <a href="https://github.com/codecentric/spring-boot-admin/tree/master/spring-boot-admin-samples/spring-boot-admin-sample-servlet/">spring-boot-admin-sample-servlet</a>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
If you protect the <code>/instances</code> endpoint don&#8217;t forget to configure the username and password on your SBA-Client using <code>spring.boot.admin.client.username</code> and <code>spring.boot.admin.client.password</code>.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_securing_client_actuator_endpoints">Securing Client Actuator Endpoints</h3>
<div class="paragraph">
<p>When the actuator endpoints are secured using HTTP Basic authentication the SBA Server needs credentials to access them. You can submit the credentials in the metadata when registering the application. The <code>BasicAuthHttpHeaderProvider</code> then uses this metadata to add the <code>Authorization</code> header to access your application&#8217;s actuator endpoints. You can provide your own <code>HttpHeadersProvider</code> to alter the behaviour (e.g. add some decryption) or add extra headers.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The SBA Server masks certain metadata in the HTTP interface to prevent leaking of sensitive information.
</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
You should configure HTTPS for your SBA Server or (service registry) when submitting credentials via the metadata.
</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
When using Spring Cloud Discovery, you must be aware that anybody who can query your service registry can obtain the credentials.
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
When using this approach the SBA Server decides whether or not the user can access the registered applications. There are more complex solutions possible (using OAuth2) to let the clients decide if the user can access the endpoints. For that please have a look at the samples in <a href="https://github.com/joshiste/spring-boot-admin-samples" target="_blank" rel="noopener">joshiste/spring-boot-admin-samples</a>.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_sba_client">SBA Client</h3>
<div class="listingblock">
<div class="title">application.yml</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">spring.boot.admin.client:
    url: http://localhost:8080
    instance:
      metadata:
        user.name: ${spring.security.user.name}
        user.password: ${spring.security.user.password}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_sba_server">SBA Server</h3>
<div class="paragraph">
<p>You can specify credentials via configuration properties in your admin server.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
You can use this in conjuction with <a href="https://cloud.spring.io/spring-cloud-kubernetes/1.1.x/reference/html/#secrets-propertysource" target="_blank" rel="noopener">spring-cloud-kubernetes</a> to pull credentials from <a href="https://kubernetes.io/docs/concepts/configuration/secret/" target="_blank" rel="noopener">secrets</a>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>To enable pulling credentials from properties the <code>spring.boot.admin.instance-auth.enabled</code> property must be <code>true</code> (default).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
If your clients provide credentials via metadata (i.e., via service annotations), that metadata will be used instead of the properites.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>You can provide a default username and password by setting <code>spring.boot.admin.instance-auth.default-user-name</code> and <code>spring.boot.admin.instance-auth.default-user-password</code>. Optionally you can provide credentials for specific services (by name) using the <code>spring.boot.admin.instance-auth.service-map.*.user-name</code> pattern, replacing <code>*</code> with the service name.</p>
</div>
<div class="listingblock">
<div class="title">application.yml</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">spring.boot.admin:
  instance-auth:
    enabled: true
    default-user-name: "${some.user.name.from.secret}"
    default-password: "${some.user.password.from.secret}"
    service-map:
      my-first-service-to-monitor:
        user-name: "${some.user.name.from.secret}"
        user-password: "${some.user.password.from.secret}"
      my-second-service-to-monitor:
        user-name: "${some.user.name.from.secret}"
        user-password: "${some.user.password.from.secret}"</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_eureka">Eureka</h3>
<div class="listingblock">
<div class="title">application.yml</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">eureka:
  instance:
    metadata-map:
      user.name: ${spring.security.user.name}
      user.password: ${spring.security.user.password}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_consul">Consul</h3>
<div class="listingblock">
<div class="title">application.yml</div>
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">spring.cloud.consul:
  discovery:
    metadata:
        user-name: ${spring.security.user.name}
        user-password: ${spring.security.user.password}</code></pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
Consul does not allow dots (".") in metadata keys, use dashes instead.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_csrf_on_actuator_endpoints">CSRF on Actuator Endpoints</h3>
<div class="paragraph">
<p>Some of the actuator endpoints (e.g. <code>/loggers</code>) support POST requests. When using Spring Security you need to ignore the actuator endpoints for CSRF-Protection as the Spring Boot Admin Server currently lacks support.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">@Bean
protected SecurityFilterChain filterChain(HttpSecurity http) {
    return http.csrf(c -&gt; c.ignoringRequestMatchers("/actuator/**")).build();
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_using_mutual_tls">Using Mutual TLS</h2>
<div class="sectionbody">
<div class="paragraph">
<p>SBA Server can also use client certificates to authenticate when accessing the actuator endpoints.
If a custom configured <code>ClientHttpConnector</code> bean is present, Spring Boot will automatically configure a <code>WebClient.Builder</code> using it, which will be used by Spring Boot Admin.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">@Bean
public ClientHttpConnector customHttpClient() {
    SslContextBuilder sslContext = SslContextBuilder.forClient();
    //Your sslContext customizations go here
    HttpClient httpClient = HttpClient.create().secure(
        ssl -&gt; ssl.sslContext(sslContext)
    );
    return new ReactorClientHttpConnector(httpClient);
}</code></pre>
</div>
</div>
</div>
</div>
	</section>
	<nav class="block sm:hidden astro-J75B3YUS">
		<div style="margin: 2rem 0; text-align: center;" class="astro-BYIKQF6W">
	<script>(self.Astro=self.Astro||{}).visible=(s,c,n)=>{const r=async()=>{await(await s())()};let i=new IntersectionObserver(e=>{for(const t of e)if(t.isIntersecting){i.disconnect(),r();break}});for(let e=0;e<n.children.length;e++){const t=n.children[e];i.observe(t)}},window.dispatchEvent(new Event("astro:visible"));</script><astro-island uid="gwsyS" component-url="/spring-boot-admin/3.0.3-SNAPSHOT/_astro/ThemeToggleButton.70ee036c.js" component-export="default" renderer-url="/spring-boot-admin/3.0.3-SNAPSHOT/_astro/client.2faf7c14.js" props="{&quot;class&quot;:[0,&quot;astro-BYIKQF6W&quot;]}" ssr="" client="visible" opts="{&quot;name&quot;:&quot;ThemeToggleButton&quot;,&quot;value&quot;:true}" await-children=""><div class="theme-toggle"><label class><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="currentColor"><path fillRule="evenodd" d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z" clipRule="evenodd"></path></svg><input type="radio" name="theme-toggle" value="light" title="Use light theme" aria-label="Use light theme" /></label><label class><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="currentColor"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path></svg><input type="radio" name="theme-toggle" value="dark" title="Use dark theme" aria-label="Use dark theme" /></label></div></astro-island>
</div>
	</nav>
</article>
			</div>
			<aside id="grid-right" class="grid-sidebar astro-OUAMJN2I" title="Table of Contents">
				<nav class="sidebar-nav astro-ROIVMLUZ" aria-labelledby="grid-right">
	<div class="sidebar-nav-inner astro-ROIVMLUZ">
		<astro-island uid="K1OxS" component-url="/spring-boot-admin/3.0.3-SNAPSHOT/_astro/TableOfContents.dbb9d265.js" component-export="default" renderer-url="/spring-boot-admin/3.0.3-SNAPSHOT/_astro/client.2faf7c14.js" props="{&quot;headings&quot;:[1,&quot;[[0,{\&quot;depth\&quot;:[0,\&quot;2\&quot;],\&quot;slug\&quot;:[0,\&quot;_securing_spring_boot_admin_server\&quot;],\&quot;text\&quot;:[0,\&quot;Securing Spring Boot Admin Server\&quot;]}],[0,{\&quot;depth\&quot;:[0,\&quot;3\&quot;],\&quot;slug\&quot;:[0,\&quot;_securing_client_actuator_endpoints\&quot;],\&quot;text\&quot;:[0,\&quot;Securing Client Actuator Endpoints\&quot;]}],[0,{\&quot;depth\&quot;:[0,\&quot;3\&quot;],\&quot;slug\&quot;:[0,\&quot;_sba_client\&quot;],\&quot;text\&quot;:[0,\&quot;SBA Client\&quot;]}],[0,{\&quot;depth\&quot;:[0,\&quot;3\&quot;],\&quot;slug\&quot;:[0,\&quot;_sba_server\&quot;],\&quot;text\&quot;:[0,\&quot;SBA Server\&quot;]}],[0,{\&quot;depth\&quot;:[0,\&quot;3\&quot;],\&quot;slug\&quot;:[0,\&quot;_eureka\&quot;],\&quot;text\&quot;:[0,\&quot;Eureka\&quot;]}],[0,{\&quot;depth\&quot;:[0,\&quot;3\&quot;],\&quot;slug\&quot;:[0,\&quot;_consul\&quot;],\&quot;text\&quot;:[0,\&quot;Consul\&quot;]}],[0,{\&quot;depth\&quot;:[0,\&quot;3\&quot;],\&quot;slug\&quot;:[0,\&quot;_csrf_on_actuator_endpoints\&quot;],\&quot;text\&quot;:[0,\&quot;CSRF on Actuator Endpoints\&quot;]}],[0,{\&quot;depth\&quot;:[0,\&quot;2\&quot;],\&quot;slug\&quot;:[0,\&quot;_using_mutual_tls\&quot;],\&quot;text\&quot;:[0,\&quot;Using Mutual TLS\&quot;]}]]&quot;],&quot;class&quot;:[0,&quot;astro-ROIVMLUZ&quot;]}" ssr="" client="media" opts="{&quot;name&quot;:&quot;TableOfContents&quot;,&quot;value&quot;:&quot;(min-width: 50em)&quot;}" await-children=""><h2 id="on-this-page-heading" class="heading">On this page</h2><ul><li class="header-link depth-2"><a href="#_securing_spring_boot_admin_server">Securing Spring Boot Admin Server</a></li><li class="header-link depth-3"><a href="#_securing_client_actuator_endpoints">Securing Client Actuator Endpoints</a></li><li class="header-link depth-3"><a href="#_sba_client">SBA Client</a></li><li class="header-link depth-3"><a href="#_sba_server">SBA Server</a></li><li class="header-link depth-3"><a href="#_eureka">Eureka</a></li><li class="header-link depth-3"><a href="#_consul">Consul</a></li><li class="header-link depth-3"><a href="#_csrf_on_actuator_endpoints">CSRF on Actuator Endpoints</a></li><li class="header-link depth-2"><a href="#_using_mutual_tls">Using Mutual TLS</a></li></ul></astro-island>
		<div style="margin: 2rem 0; text-align: center;" class="astro-BYIKQF6W">
	<astro-island uid="gwsyS" component-url="/spring-boot-admin/3.0.3-SNAPSHOT/_astro/ThemeToggleButton.70ee036c.js" component-export="default" renderer-url="/spring-boot-admin/3.0.3-SNAPSHOT/_astro/client.2faf7c14.js" props="{&quot;class&quot;:[0,&quot;astro-BYIKQF6W&quot;]}" ssr="" client="visible" opts="{&quot;name&quot;:&quot;ThemeToggleButton&quot;,&quot;value&quot;:true}" await-children=""><div class="theme-toggle"><label class><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="currentColor"><path fillRule="evenodd" d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z" clipRule="evenodd"></path></svg><input type="radio" name="theme-toggle" value="light" title="Use light theme" aria-label="Use light theme" /></label><label class><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="currentColor"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path></svg><input type="radio" name="theme-toggle" value="dark" title="Use dark theme" aria-label="Use dark theme" /></label></div></astro-island>
</div>
	</div>
</nav>
			</aside>
		</main>
	</body></html>

<script>
  document.addEventListener('DOMContentLoaded', (event) => {
    document.querySelectorAll('pre code').forEach((el) => {
      hljs.highlightElement(el);
    });
  });
</script>