
<!DOCTYPE html>
<!--
 Generated by Apache Maven Doxia the 2023-06-23
 Rendered using Docs Maven Skin 2.3.2 (https://github.com/Bernardo-MG/docs-maven-skin)
-->
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">

    <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">

    <title>Spring Boot Admin &#x2013; </title>
    <link href="./favicon.ico" rel="shortcut icon" type="image/x-icon">

    <!-- Metadata -->
    <meta content="codecentric AG" name="author">

    <!-- Facebook Open Graph -->
    <meta content="website" property="og:type">
    <meta content="Spring Boot Admin &#x2013; " property="og:site_name">
    <meta content="Spring Boot Admin &#x2013; " property="og:title">

    <!-- Twitter Card -->
    <meta content="summary" name="twitter:card">
    <meta content="Spring Boot Admin &#x2013; " name="twitter:title">

    <!-- CSS -->
    <link href="./lib/bootswatch/dist/litera/bootstrap.min.css" rel="stylesheet">
    <link href="./lib/font-awesome/css/all.min.css" rel="stylesheet">
    <link href="./lib/highlight/styles/default.css" rel="stylesheet">
    <!-- Docs Template style -->
    <link href="./css/style.min.css" rel="stylesheet">

    <!-- Custom style -->
    <link href="./css/custom.css" rel="stylesheet">

</head>
<body class="d-flex flex-column">
<header>
    <nav class="navbar navbar-expand-md navbar-light bg-light" id="navbar-main">
        <div class="container-fluid">
            <a class="navbar-brand" href="./index.html">Spring Boot Admin Docs</a>
            <button aria-controls="navbar-main" aria-expanded="false" aria-label="Toggle navigation" class="navbar-toggler" data-bs-target="#navbar-main-menu" data-bs-toggle="collapse" type="button">
               <span class="navbar-toggler-icon"></span>
            </button>
        
            <small class="navbar-text d-none d-md-block"><span id="navbar-version">3.0.5-SNAPSHOT</span> (<time id="navbar-date">2023-06-23</time>)</small>
            <div class="collapse navbar-collapse" id="navbar-main-menu">
                <ul class="nav navbar-nav ms-auto">
                    <li class="nav-item dropdown">
                        <a aria-expanded="false" aria-haspopup="true" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#" id="Documentation_menu" role="button">Documentation</a>
                        <ul aria-labelledby="Documentation_menu" class="dropdown-menu dropdown-menu-end" role="menu">
                            <li><a aria-label="Getting Started" class="dropdown-item" href="./getting-started.html" title="Getting Started">Getting Started</a></li>
                            <li><a aria-label="Server" class="dropdown-item" href="./server.html" title="Server">Server</a></li>
                            <li><a aria-label="Client" class="dropdown-item" href="./client.html" title="Client">Client</a></li>
                            <li><a aria-label="Security" class="dropdown-item" href="./security.html" title="Security">Security</a></li>
                            <li><a aria-label="FAQ" class="dropdown-item" href="./faq.html" title="FAQ">FAQ</a></li>
                        </ul>
                    </li>
                    <li class="nav-item dropdown">
                        <a aria-expanded="false" aria-haspopup="true" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#" id="Server_menu" role="button">Server</a>
                        <ul aria-labelledby="Server_menu" class="dropdown-menu dropdown-menu-end" role="menu">
                            <li><a aria-label="Usage" class="dropdown-item" href="./server.html" title="Usage">Usage</a></li>
                            <li><a aria-label="Notifications" class="dropdown-item" href="./server-notifications.html" title="Notifications">Notifications</a></li>
                        </ul>
                    </li>
                    <li class="nav-item dropdown">
                        <a aria-expanded="false" aria-haspopup="true" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#" id="Client_menu" role="button">Client</a>
                        <ul aria-labelledby="Client_menu" class="dropdown-menu dropdown-menu-end" role="menu">
                            <li><a aria-label="Usage" class="dropdown-item" href="./client.html" title="Usage">Usage</a></li>
                        </ul>
                    </li>
                    <li class="nav-item dropdown">
                        <a aria-expanded="false" aria-haspopup="true" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#" id="Customize_menu" role="button">Customize</a>
                        <ul aria-labelledby="Customize_menu" class="dropdown-menu dropdown-menu-end" role="menu">
                            <li><a aria-label="Notifiers" class="dropdown-item" href="./customize_notifiers.html" title="Notifiers">Notifiers</a></li>
                            <li><a aria-label="HTTP Headers" class="dropdown-item" href="./customize_http-headers.html" title="HTTP Headers">HTTP Headers</a></li>
                            <li><a aria-label="Interceptors" class="dropdown-item" href="./customize_interceptors.html" title="Interceptors">Interceptors</a></li>
                            <li><a aria-label="UI" class="dropdown-item" href="./customize_ui.html" title="UI">UI</a></li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
</header>
<main>
    <section class="container flex-grow-1" id="main-section">
<div class="sect1">
 <h2 id="spring-cloud-discovery-support">Spring Cloud Discovery</h2>
 <div class="sectionbody">
  <div class="paragraph">
   <p>The Spring Boot Admin Server can use Spring Clouds <code>DiscoveryClient</code> to discover applications. The advantage is that the clients don’t have to include the <code>spring-boot-admin-starter-client</code>. You just have to add a <code>DiscoveryClient</code> implementation to your admin server - everything else is done by AutoConfiguration.</p>
  </div>
  <div class="sect2">
   <h3 id="spring-cloud-discovery-static-config">Static Configuration using SimpleDiscoveryClient</h3>
   <div class="paragraph">
    <p>Spring Cloud provides a <code>SimpleDiscoveryClient</code>. It allows you to specify client applications via static configuration:</p>
   </div>
   <div class="listingblock">
    <div class="title">
     pom.xml
    </div>
    <div class="content">
     <pre class="CodeRay highlight border shadow rounded"><code data-lang="xml"><span class="tag">&lt;dependency&gt;</span>
    <span class="tag">&lt;groupId&gt;</span>org.springframework.cloud<span class="tag">&lt;/groupId&gt;</span>
    <span class="tag">&lt;artifactId&gt;</span>spring-cloud-starter<span class="tag">&lt;/artifactId&gt;</span>
<span class="tag">&lt;/dependency&gt;</span></code></pre>
    </div>
   </div>
   <div class="listingblock">
    <div class="title">
     application.yml
    </div>
    <div class="content">
     <pre class="CodeRay highlight border shadow rounded"><code data-lang="yml"><span class="key">spring</span>:
  <span class="key">cloud</span>:
    <span class="key">discovery</span>:
      <span class="key">client</span>:
        <span class="key">simple</span>:
          <span class="key">instances</span>:
            <span class="key">test</span>:
              - <span class="string"><span class="content">uri: http://instance1.intern:8080</span></span>
                <span class="key">metadata</span>:
                  <span class="key">management.context-path</span>: <span class="string"><span class="content">/actuator</span></span>
              - <span class="string"><span class="content">uri: http://instance2.intern:8080</span></span>
                <span class="key">metadata</span>:
                  <span class="key">management.context-path</span>: <span class="string"><span class="content">/actuator</span></span></code></pre>
    </div>
   </div>
  </div>
  <div class="sect2">
   <h3 id="other-discoveryclients">Other DiscoveryClients</h3>
   <div class="paragraph">
    <p>Spring Boot Admin supports all other implementations of Spring Cloud’s <code>DiscoveryClient</code> (<a href="https://docs.spring.io/spring-cloud-netflix/docs/current/reference/html/#service-discovery-eureka-clients/">Eureka</a>, <a href="https://docs.spring.io/spring-cloud-zookeeper/docs/current/reference/html/#spring-cloud-zookeeper-discovery">Zookeeper</a>, <a href="https://docs.spring.io/spring-cloud-consul/docs/current/reference/html/#spring-cloud-consul-discovery">Consul</a>, <a href="https://docs.spring.io/spring-cloud-kubernetes/docs/current/reference/html/#discoveryclient-for-kubernetes">Kubernetes</a>, …​). You need to add it to the Spring Boot Admin Server and configure it properly. An <a href="getting-started.html#discover-clients-via-spring-cloud-discovery">example setup using Eureka</a> is shown above.</p>
   </div>
  </div>
  <div class="sect2">
   <h3 id="converting-serviceinstances">Converting ServiceInstances</h3>
   <div class="paragraph">
    <p>The information from the service registry are converted by the <code>ServiceInstanceConverter</code>. Spring Boot Admin ships with a default and Eureka converter implementation. The correct one is selected by AutoConfiguration.</p>
   </div>
   <div class="admonitionblock tip">
    <table class="table table-striped table-bordered">
     <tbody>
      <tr>
       <td class="icon"><i class="fa icon-tip" title="Tip"></i></td>
       <td class="content">You can modify how the information from the registry is used to register the application by using SBA Server configuration options and instance metadata. The values from the metadata takes precedence over the server config. If the plenty of options don’t fit your needs you can provide your own <code>ServiceInstanceConverter</code>.</td>
      </tr>
     </tbody>
    </table>
   </div>
   <div class="admonitionblock note">
    <table class="table table-striped table-bordered">
     <tbody>
      <tr>
       <td class="icon"><i class="fa icon-note" title="Note"></i></td>
       <td class="content">When using Eureka, the <code>healthCheckUrl</code> known to Eureka is used for health-checking, which can be set on your client using <code>eureka.instance.healthCheckUrl</code>.</td>
      </tr>
     </tbody>
    </table>
   </div>
   <table class="tableblock frame-all grid-all stretch table table-striped table-bordered">
    <caption class="title">
     Table 1. Instance metadata options
    </caption>
    <colgroup>
     <col style="width: 33.3333%;">
     <col style="width: 33.3333%;">
     <col style="width: 33.3334%;">
    </colgroup>
    <thead>
     <tr>
      <th class="tableblock halign-left valign-top">Key</th>
      <th class="tableblock halign-left valign-top">Value</th>
      <th class="tableblock halign-left valign-top">Default value</th>
     </tr>
    </thead>
    <tbody>
     <tr>
      <td class="tableblock halign-left valign-top"><p class="tableblock">user.name<br> user.password</p></td>
      <td class="tableblock halign-left valign-top"><p class="tableblock">Credentials being used to access the endpoints.</p></td>
      <td class="tableblock halign-left valign-top"></td>
     </tr>
     <tr>
      <td class="tableblock halign-left valign-top"><p class="tableblock">management.scheme</p></td>
      <td class="tableblock halign-left valign-top"><p class="tableblock">The scheme is substituted in the service URL and will be used for accessing the actuator endpoints.</p></td>
      <td class="tableblock halign-left valign-top"></td>
     </tr>
     <tr>
      <td class="tableblock halign-left valign-top"><p class="tableblock">management.address</p></td>
      <td class="tableblock halign-left valign-top"><p class="tableblock">The address is substituted in the service URL and will be used for accessing the actuator endpoints.</p></td>
      <td class="tableblock halign-left valign-top"></td>
     </tr>
     <tr>
      <td class="tableblock halign-left valign-top"><p class="tableblock">management.port</p></td>
      <td class="tableblock halign-left valign-top"><p class="tableblock">The port is substituted in the service URL and will be used for accessing the actuator endpoints.</p></td>
      <td class="tableblock halign-left valign-top"></td>
     </tr>
     <tr>
      <td class="tableblock halign-left valign-top"><p class="tableblock">management.context-path</p></td>
      <td class="tableblock halign-left valign-top"><p class="tableblock">The path is appended to the service URL and will be used for accessing the actuator endpoints.</p></td>
      <td class="tableblock halign-left valign-top"><p class="tableblock"><code>${spring.boot.admin.discovery.converter.management-context-path}</code></p></td>
     </tr>
     <tr>
      <td class="tableblock halign-left valign-top"><p class="tableblock">health.path</p></td>
      <td class="tableblock halign-left valign-top"><p class="tableblock">The path is appended to the service URL and will be used for the health-checking. Ignored by the <code>EurekaServiceInstanceConverter</code>.</p></td>
      <td class="tableblock halign-left valign-top"><p class="tableblock"><code>${spring.boot.admin.discovery.converter.health-endpoint}</code></p></td>
     </tr>
    </tbody>
   </table>
   <table class="tableblock frame-all grid-all stretch table table-striped table-bordered">
    <caption class="title">
     Table 2. Discovery configuration options
    </caption>
    <colgroup>
     <col style="width: 33.3333%;">
     <col style="width: 33.3333%;">
     <col style="width: 33.3334%;">
    </colgroup>
    <thead>
     <tr>
      <th class="tableblock halign-left valign-top">Property name</th>
      <th class="tableblock halign-left valign-top">Description</th>
      <th class="tableblock halign-left valign-top">Default value</th>
     </tr>
    </thead>
    <tbody>
     <tr>
      <td class="tableblock halign-left valign-top"><p class="tableblock">spring.boot.admin.discovery.enabled</p></td>
      <td class="tableblock halign-left valign-top"><p class="tableblock">Enables the DiscoveryClient-support for the admin server.</p></td>
      <td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
     </tr>
     <tr>
      <td class="tableblock halign-left valign-top"><p class="tableblock">spring.boot.admin.discovery.converter.management-context-path</p></td>
      <td class="tableblock halign-left valign-top"><p class="tableblock">Will be appended to the service-url of the discovered service when the management-url is converted by the <code>DefaultServiceInstanceConverter</code>.</p></td>
      <td class="tableblock halign-left valign-top"><p class="tableblock"><code>/actuator</code></p></td>
     </tr>
     <tr>
      <td class="tableblock halign-left valign-top"><p class="tableblock">spring.boot.admin.discovery.converter.health-endpoint-path</p></td>
      <td class="tableblock halign-left valign-top"><p class="tableblock">Will be appended to the management-url of the discovered service when the health-url is converted by the <code>DefaultServiceInstanceConverter</code>.</p></td>
      <td class="tableblock halign-left valign-top"><p class="tableblock"><code>"health"</code></p></td>
     </tr>
     <tr>
      <td class="tableblock halign-left valign-top"><p class="tableblock">spring.boot.admin.discovery.ignored-services</p></td>
      <td class="tableblock halign-left valign-top"><p class="tableblock">This services will be ignored when using discovery and not registered as application. Supports simple patterns (e.g. "foo*", "*bar", "foo*bar*").</p></td>
      <td class="tableblock halign-left valign-top"></td>
     </tr>
     <tr>
      <td class="tableblock halign-left valign-top"><p class="tableblock">spring.boot.admin.discovery.services</p></td>
      <td class="tableblock halign-left valign-top"><p class="tableblock">This services will be included when using discovery and registered as application. Supports simple patterns (e.g. "foo*", "*bar", "foo*bar*").</p></td>
      <td class="tableblock halign-left valign-top"><p class="tableblock"><code>"*"</code></p></td>
     </tr>
     <tr>
      <td class="tableblock halign-left valign-top"><p class="tableblock">spring.boot.admin.discovery.ignored-instances-metadata</p></td>
      <td class="tableblock halign-left valign-top"><p class="tableblock">Instances of services will be ignored if they contain at least one metadata item that matches this list. (e.g. "discoverable=false")</p></td>
      <td class="tableblock halign-left valign-top"></td>
     </tr>
     <tr>
      <td class="tableblock halign-left valign-top"><p class="tableblock">spring.boot.admin.discovery.instances-metadata</p></td>
      <td class="tableblock halign-left valign-top"><p class="tableblock">Instances of services will be included if they contain at least one metadata item that matches this list. (e.g. "discoverable=true")</p></td>
      <td class="tableblock halign-left valign-top"></td>
     </tr>
    </tbody>
   </table>
  </div>
  <div class="sect2">
   <h3 id="cloudfoundry">CloudFoundry</h3>
   <div class="paragraph">
    <p>If you are deploying your applications to CloudFoundry then <code>vcap.application.application_id</code> and <code>vcap.application.instance_index</code> <strong><em>must</em></strong> be added to the metadata for proper registration of applications with Spring Boot Admin Server. Here is a sample configuration for Eureka:</p>
   </div>
   <div class="listingblock">
    <div class="title">
     application.yml
    </div>
    <div class="content">
     <pre class="CodeRay highlight border shadow rounded"><code data-lang="yml"><span class="key">eureka</span>:
  <span class="key">instance</span>:
    <span class="key">hostname</span>: <span class="string"><span class="content">${vcap.application.uris[0]}</span></span>
    <span class="key">nonSecurePort</span>: <span class="string"><span class="content">80</span></span>
    <span class="key">metadata-map</span>:
      <span class="key">applicationId</span>: <span class="string"><span class="content">${vcap.application.application_id}</span></span>
      <span class="key">instanceId</span>: <span class="string"><span class="content">${vcap.application.instance_index}</span></span></code></pre>
    </div>
   </div>
  </div>
 </div>
</div>
    </section>
</main>
<footer class="footer w-100 pt-2 border-top bg-light">
    <div class="bg-light container" id="footer-nav">
        <div class="row" id="navbar-footer">
            <div class="col">
    <dl class="text-center mb-1">
    <dt class="border-bottom">Imprint</dt>
              <dd><a aria-label="Impressum" href="./imprint.html" title="Impressum">Impressum</a></dd>
              <dd><a aria-label="Datenschutzerklärung" href="./privacy.html" title="Datenschutzerklärung">Datenschutzerklärung</a></dd>
    </dl>
            </div>
        </div>
    </div>
    <div class="bg-light ps-2 pb-1 w-100" id="footer-info">
        <div> <span class="fa-regular fa-copyright"></span>2023<a href="http://www.codecentric.de">codecentric AG</a>-
<a href="http://www.apache.org/licenses/LICENSE-2.0">Apache License, Version 2.0</a>
</div>
        <div>Rendered using <a href="https://github.com/Bernardo-MG/docs-maven-skin">Docs Maven Skin</a> 2.3.2</div>
    </div>
</footer>
<script src="./lib/popperjs/core/dist/umd/popper.min.js"></script>
<script src="./lib/bootstrap/dist/js/bootstrap.min.js"></script>
<script src="./lib/highlight/highlight.pack.js"></script>
<script src="./js/initializeHighlight.js"></script>
</body>
</html>
