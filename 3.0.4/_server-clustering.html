
<!DOCTYPE html>
<!--
 Generated by Apache Maven Doxia the 2023-06-16
 Rendered using Docs Maven Skin 2.3.2 (https://github.com/Bernardo-MG/docs-maven-skin)
-->
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">

    <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">

    <title>Spring Boot Admin &#x2013; </title>
    <link href="./favicon.ico" rel="shortcut icon" type="image/x-icon">

    <!-- Metadata -->
    <meta content="codecentric AG" name="author">

    <!-- Facebook Open Graph -->
    <meta content="website" property="og:type">
    <meta content="Spring Boot Admin &#x2013; " property="og:site_name">
    <meta content="Spring Boot Admin &#x2013; " property="og:title">

    <!-- Twitter Card -->
    <meta content="summary" name="twitter:card">
    <meta content="Spring Boot Admin &#x2013; " name="twitter:title">

    <!-- CSS -->
    <link href="./lib/bootswatch/dist/litera/bootstrap.min.css" rel="stylesheet">
    <link href="./lib/font-awesome/css/all.min.css" rel="stylesheet">
    <link href="./lib/highlight/styles/default.css" rel="stylesheet">
    <!-- Docs Template style -->
    <link href="./css/style.min.css" rel="stylesheet">

    <!-- Custom style -->
    <link href="./css/custom.css" rel="stylesheet">

</head>
<body class="d-flex flex-column">
<header>
    <nav class="navbar navbar-expand-md navbar-light bg-light" id="navbar-main">
        <div class="container-fluid">
            <a class="navbar-brand" href="./index.html">Spring Boot Admin Docs</a>
            <button aria-controls="navbar-main" aria-expanded="false" aria-label="Toggle navigation" class="navbar-toggler" data-bs-target="#navbar-main-menu" data-bs-toggle="collapse" type="button">
               <span class="navbar-toggler-icon"></span>
            </button>
        
            <small class="navbar-text d-none d-md-block"><span id="navbar-version">3.0.4</span> (<time id="navbar-date">2023-06-16</time>)</small>
            <div class="collapse navbar-collapse" id="navbar-main-menu">
                <ul class="nav navbar-nav ms-auto">
                    <li class="nav-item dropdown">
                        <a aria-expanded="false" aria-haspopup="true" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#" id="Documentation_menu" role="button">Documentation</a>
                        <ul aria-labelledby="Documentation_menu" class="dropdown-menu dropdown-menu-end" role="menu">
                            <li><a aria-label="Getting Started" class="dropdown-item" href="./getting-started.html" title="Getting Started">Getting Started</a></li>
                            <li><a aria-label="Server" class="dropdown-item" href="./server.html" title="Server">Server</a></li>
                            <li><a aria-label="Client" class="dropdown-item" href="./client.html" title="Client">Client</a></li>
                            <li><a aria-label="Security" class="dropdown-item" href="./security.html" title="Security">Security</a></li>
                            <li><a aria-label="FAQ" class="dropdown-item" href="./faq.html" title="FAQ">FAQ</a></li>
                        </ul>
                    </li>
                    <li class="nav-item dropdown">
                        <a aria-expanded="false" aria-haspopup="true" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#" id="Server_menu" role="button">Server</a>
                        <ul aria-labelledby="Server_menu" class="dropdown-menu dropdown-menu-end" role="menu">
                            <li><a aria-label="Usage" class="dropdown-item" href="./server.html" title="Usage">Usage</a></li>
                            <li><a aria-label="Notifications" class="dropdown-item" href="./server-notifications.html" title="Notifications">Notifications</a></li>
                        </ul>
                    </li>
                    <li class="nav-item dropdown">
                        <a aria-expanded="false" aria-haspopup="true" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#" id="Client_menu" role="button">Client</a>
                        <ul aria-labelledby="Client_menu" class="dropdown-menu dropdown-menu-end" role="menu">
                            <li><a aria-label="Usage" class="dropdown-item" href="./client.html" title="Usage">Usage</a></li>
                        </ul>
                    </li>
                    <li class="nav-item dropdown">
                        <a aria-expanded="false" aria-haspopup="true" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#" id="Customize_menu" role="button">Customize</a>
                        <ul aria-labelledby="Customize_menu" class="dropdown-menu dropdown-menu-end" role="menu">
                            <li><a aria-label="Notifiers" class="dropdown-item" href="./customize_notifiers.html" title="Notifiers">Notifiers</a></li>
                            <li><a aria-label="HTTP Headers" class="dropdown-item" href="./customize_http-headers.html" title="HTTP Headers">HTTP Headers</a></li>
                            <li><a aria-label="Interceptors" class="dropdown-item" href="./customize_interceptors.html" title="Interceptors">Interceptors</a></li>
                            <li><a aria-label="UI" class="dropdown-item" href="./customize_ui.html" title="UI">UI</a></li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
</header>
<main>
    <section class="container flex-grow-1" id="main-section">
<div class="sect1">
 <h2 id="clustering-support">Clustering</h2>
 <div class="sectionbody">
  <div class="paragraph">
   <p>Spring Boot Admin Server supports cluster replication via Hazelcast. It is automatically enabled when a <code>HazelcastConfig</code>- or <code>HazelcastInstance</code>-Bean is present. You can also configure the Hazelcast instance to be persistent, to keep the status over restarts. Also have a look at the <a href="http://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#boot-features-hazelcast/">Spring Boot support for Hazelcast</a>.</p>
  </div>
  <div class="olist arabic">
   <ol class="arabic">
    <li><p>Add Hazelcast to your dependencies:</p>
     <div class="listingblock">
      <div class="title">
       pom.xml
      </div>
      <div class="content">
       <pre class="CodeRay highlight border shadow rounded"><code data-lang="xml"><span class="tag">&lt;dependency&gt;</span>
    <span class="tag">&lt;groupId&gt;</span>com.hazelcast<span class="tag">&lt;/groupId&gt;</span>
    <span class="tag">&lt;artifactId&gt;</span>hazelcast<span class="tag">&lt;/artifactId&gt;</span>
<span class="tag">&lt;/dependency&gt;</span></code></pre>
      </div>
     </div></li>
    <li><p>Instantiate a HazelcastConfig:</p>
     <div class="listingblock">
      <div class="content">
       <pre class="CodeRay highlight border shadow rounded"><code data-lang="java"><span class="annotation">@Bean</span>
<span class="directive">public</span> Config hazelcastConfig() {
        <span class="comment">// This map is used to store the events.</span>
        <span class="comment">// It should be configured to reliably hold all the data,</span>
        <span class="comment">// Spring Boot Admin will compact the events, if there are too many</span>
        MapConfig eventStoreMap = <span class="keyword">new</span> MapConfig(DEFAULT_NAME_EVENT_STORE_MAP).setInMemoryFormat(InMemoryFormat.OBJECT)
                .setBackupCount(<span class="integer">1</span>)
                .setMergePolicyConfig(<span class="keyword">new</span> MergePolicyConfig(PutIfAbsentMergePolicy.class.getName(), <span class="integer">100</span>));

        <span class="comment">// This map is used to deduplicate the notifications.</span>
        <span class="comment">// If data in this map gets lost it should not be a big issue as it will atmost</span>
        <span class="comment">// lead to</span>
        <span class="comment">// the same notification to be sent by multiple instances</span>
        MapConfig sentNotificationsMap = <span class="keyword">new</span> MapConfig(DEFAULT_NAME_SENT_NOTIFICATIONS_MAP)
                .setInMemoryFormat(InMemoryFormat.OBJECT)
                .setBackupCount(<span class="integer">1</span>)
                .setEvictionConfig(
                                <span class="keyword">new</span> EvictionConfig().setEvictionPolicy(EvictionPolicy.LRU).setMaxSizePolicy(MaxSizePolicy.PER_NODE))
                .setMergePolicyConfig(<span class="keyword">new</span> MergePolicyConfig(PutIfAbsentMergePolicy.class.getName(), <span class="integer">100</span>));

        Config config = <span class="keyword">new</span> Config();
        config.addMapConfig(eventStoreMap);
        config.addMapConfig(sentNotificationsMap);
        config.setProperty(<span class="string"><span class="delimiter">"</span><span class="content">hazelcast.jmx</span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">true</span><span class="delimiter">"</span></span>);

        <span class="comment">// WARNING: This setups a local cluster, you change it to fit your needs.</span>
        config.getNetworkConfig().getJoin().getMulticastConfig().setEnabled(<span class="predefined-constant">false</span>);
        TcpIpConfig tcpIpConfig = config.getNetworkConfig().getJoin().getTcpIpConfig();
        tcpIpConfig.setEnabled(<span class="predefined-constant">true</span>);
        tcpIpConfig.setMembers(singletonList(<span class="string"><span class="delimiter">"</span><span class="content">127.0.0.1</span><span class="delimiter">"</span></span>));
        <span class="keyword">return</span> config;
}</code></pre>
      </div>
     </div></li>
   </ol>
  </div>
  <table class="tableblock frame-all grid-all stretch table table-striped table-bordered">
   <caption class="title">
    Table 1. Hazelcast configuration options
   </caption>
   <colgroup>
    <col style="width: 33.3333%;">
    <col style="width: 33.3333%;">
    <col style="width: 33.3334%;">
   </colgroup>
   <thead>
    <tr>
     <th class="tableblock halign-left valign-top">Property name</th>
     <th class="tableblock halign-left valign-top">Description</th>
     <th class="tableblock halign-left valign-top">Default value</th>
    </tr>
   </thead>
   <tbody>
    <tr>
     <td class="tableblock halign-left valign-top"><p class="tableblock">spring.boot.admin.hazelcast.enabled</p></td>
     <td class="tableblock halign-left valign-top"><p class="tableblock">Enables the Hazelcast support</p></td>
     <td class="tableblock halign-left valign-top"><p class="tableblock"><code>true</code></p></td>
    </tr>
    <tr>
     <td class="tableblock halign-left valign-top"><p class="tableblock">spring.boot.admin.hazelcast.event-store</p></td>
     <td class="tableblock halign-left valign-top"><p class="tableblock">Name of the Hazelcast-map to store the events</p></td>
     <td class="tableblock halign-left valign-top"><p class="tableblock"><code>"spring-boot-admin-event-store"</code></p></td>
    </tr>
    <tr>
     <td class="tableblock halign-left valign-top"><p class="tableblock">spring.boot.admin.hazelcast.sent-notifications</p></td>
     <td class="tableblock halign-left valign-top"><p class="tableblock">Name of the Hazelcast-map used to deduplicate the notifications.</p></td>
     <td class="tableblock halign-left valign-top"><p class="tableblock"><code>"spring-boot-admin-sent-notifications"</code></p></td>
    </tr>
   </tbody>
  </table>
 </div>
</div>
    </section>
</main>
<footer class="footer w-100 pt-2 border-top bg-light">
    <div class="bg-light container" id="footer-nav">
        <div class="row" id="navbar-footer">
            <div class="col">
    <dl class="text-center mb-1">
    <dt class="border-bottom">Imprint</dt>
              <dd><a aria-label="Impressum" href="./imprint.html" title="Impressum">Impressum</a></dd>
              <dd><a aria-label="Datenschutzerklärung" href="./privacy.html" title="Datenschutzerklärung">Datenschutzerklärung</a></dd>
    </dl>
            </div>
        </div>
    </div>
    <div class="bg-light ps-2 pb-1 w-100" id="footer-info">
        <div> <span class="fa-regular fa-copyright"></span>2023<a href="http://www.codecentric.de">codecentric AG</a>-
<a href="http://www.apache.org/licenses/LICENSE-2.0">Apache License, Version 2.0</a>
</div>
        <div>Rendered using <a href="https://github.com/Bernardo-MG/docs-maven-skin">Docs Maven Skin</a> 2.3.2</div>
    </div>
</footer>
<script src="./lib/popperjs/core/dist/umd/popper.min.js"></script>
<script src="./lib/bootstrap/dist/js/bootstrap.min.js"></script>
<script src="./lib/highlight/highlight.pack.js"></script>
<script src="./js/initializeHighlight.js"></script>
</body>
</html>
